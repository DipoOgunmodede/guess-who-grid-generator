<div id="image-container"></div>
<button id="new-image">Add new image</button>
<button id="new-grid">Add new grid</button>
<script>
  //store current amount of images as a global var
  var imageCount = 0;
  //append image on new-image button click in vanilla js

  function createImage() {
    var img = document.createElement("img");
    img.src = "https://thispersondoesnotexist.com/image";
    document.getElementById("image-container").appendChild(img);
    console.log("image appended");
  }
  
  function createSixteenImages() {
   //create up to 16 images, while imageCount is less than 16 with a 1second delay
    if (imageCount < 16) {
      createImage();
      imageCount++;
      setTimeout(createSixteenImages, 1200);
    }

  }

  document.getElementById("new-image").addEventListener("click", createImage);
  document.getElementById("new-grid").addEventListener("click", createSixteenImages);

  //remove image on image click in vanilla js
  document.getElementById("image-container").addEventListener("click", function (e) {
    if (e.target && e.target.nodeName == "IMG") {
      e.target.remove();
      imageCount--;
      console.log("image removed");
      console.log(imageCount);
    }
    //if image-container has less than 16 images show new-image button
    if (document.getElementById("image-container").childElementCount < 16) {
      document.getElementById("new-image").style.display = "block";
    }
  });

  //hide new-image button when image-container has 16 images
  document.getElementById("image-container").addEventListener("DOMNodeInserted", function () {
    if (document.getElementById("image-container").childElementCount == 16) {
      document.getElementById("new-image").style.display = "none";
      console.log("new-image button hidden");
    }
 
  });
</script>

<style>
  #image-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
  }
  #image-container img {
    width: 100%;
    height: 100%;
  }
</style>
<script>

